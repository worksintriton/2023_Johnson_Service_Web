<section>
    <div class="page-header">
        <div>
            <h2 class="main-content-title tx-24 mb-1">Employee Management</h2>
            <!-- <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a routerLink="dashboard">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page">App User Management</li>
                    </ol> -->
        </div>
        <div class="col-md-6 text-right">
            <button type="button" class="btn btn-primary" (click)="add()"><i
                    class="fas fa-plus"></i> Add Employee</button>
        </div>

    </div>
    <!-- <div class="upload-btn-wrapper">
                <button class="btn">Choose Excel File</button>
                <input (change)="onFileChange($event)" type="file"  />
            </div> -->
    <div class="row row-sm">

        <div class="col-lg-12">
            <div class="card custom-card">
                <div class="card-body">
                    <div class="card-item">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="search-hero">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"
                                                id="basic-addon1"><i class="fas
                                                    fa-search"></i></span>
                                        </div>
                                        <input class="form-control" type="text"
                                            name="search2"
                                            [(ngModel)]="searchQR"
                                            autocomplete="off"
                                            placeholder="Search...">
                                    </div>
                                </div>
                            </div>
                      
                         
                          
                        </div>
                        <div class="row">
                       
                            <div class="col-md-6">
                                <div class="search-hero">
                                    <div class="input-group mb-3">
                                     <p-calendar [(ngModel)]="S_Date" [showIcon]="true" inputId="icon" placeholder="Seelect Date" class="mr-3"></p-calendar>                        
                                      </div>
                                  </div>
                            </div>
                            <div class="col-md-2 text-left">
                                <button type="button" class="btn btn-secondary"
                                    (click)="refersh()"> Submit</button>
                            </div>
                            <div class="col-md-2 text-left">
                                <button type="button" class="btn btn-secondary"
                                    (click)="exceldownload()"> Excel</button>
                            </div>
                            <div class="col-md-2 text-left">
                                <button type="button" class="btn btn-secondary"
                                    (click)="refersh()"><i class="fas
                                        fa-sync-alt"></i> Clear All</button>
                            </div>
                        </div>
                        <div class="table-responsive">
                            <p-table [value]="rows | filter:searchQR"
                                styleClass="ui-table-customers" #tt
                                [paginator]="true" [rows]="15"
                                [rowHover]="true"
                                [rowsPerPageOptions]="[5,10,25,50]"
                                [showCurrentPageReport]="true"
                                currentPageReportTemplate="Showing {first} to
                                {last} of {totalRecords} entries"
                                [globalFilterFields]="['type']">
                                <ng-template pTemplate="header">
                                    <tr class="thhead">
                                        <th *ngFor="let item of header"
                                            [pSortableColumn]="item"
                                            style="min-width:209px">
                                            {{item}}
                                        </th>
                                    </tr>
                                    <tr>
                                        <th *ngFor="let item of header">
                                            <!-- <input *ngIf="item == 'S no'"
                                                pInputText type="text"
                                                placeholder="Search"
                                                (input)="tt.filter($event.target.value,
                                                'i', 'contains');"
                                                class="filtro"> -->
    
                                            <input *ngIf="item == 'Emp Name'"
                                                pInputText type="text"
                                                placeholder="Search"
                                                (input)="tt.filter($event.target.value,
                                                'user_name', 'contains');"
                                                class="filtro">
    
    
                                            <input *ngIf="item == 'Emp Code'"
                                                pInputText type="text"
                                                placeholder="Search"
                                                (input)="tt.filter($event.target.value,
                                                'user_id', 'contains');"
                                                class="filtro">
                                            <input *ngIf="item == 'Emp Phone'"
                                                pInputText type="text"
                                                placeholder="Search"
                                                (input)="tt.filter($event.target.value,
                                                'user_mobile_no', 'contains');"
                                                class="filtro">
    
                                            

                                            <input *ngIf="item == 'Location Name'"
                                                pInputText type="text"
                                                placeholder="Search"
                                                (input)="tt.filter($event.target.value,
                                                'user_location', 'contains');"
                                                class="filtro">
    
    
                                            <input *ngIf="item == 'Emp type'"
                                                pInputText type="text"
                                                placeholder="Search"
                                                (input)="tt.filter($event.target.value,
                                                'emp_type', 'contains');"
                                                class="filtro">
    
    
                                            <input *ngIf="item == 'Device Number'"
                                                pInputText type="text"
                                                placeholder="Search"
                                                (input)="tt.filter($event.target.value,
                                                'device_no', 'contains');"
                                                class="filtro">
    
    
                                            <input *ngIf="item == 'Status'"
                                                pInputText type="text"
                                                placeholder="Search"
                                                (input)="tt.filter($event.target.value,
                                                'Status', 'contains');"
                                                class="filtro">
    
    
                                            <input *ngIf="item == 'Login Status'"
                                                pInputText type="text"
                                                placeholder="Search"
                                                (input)="tt.filter($event.target.value,
                                                'user_type', 'contains');"
                                                class="filtro">
  
    
                                        </th>
    
                                    </tr>
                                </ng-template>
                       
                
                                <ng-template pTemplate="body" let-item
                                let-i="rowIndex">
                                <tr class="tdrow">
                                    <td *ngFor="let e of header">
                                     
                                        <span *ngIf="e == 'S no'">
                                            <span
                                                class="Pr-2" style="color:blue">{{i+1}}</span>
                                            </span>
                                        <span *ngIf="e == 'Emp Name'">{{item.user_name}}</span>
                                        <span *ngIf="e == 'Emp Code'">{{item.user_id}}</span>
                                        <span *ngIf="e == 'Emp Phone'">
                                            {{item.user_mobile_no}}</span>

                                        

                                        <span *ngIf="e == 'Location Name'">{{item.user_location}}</span>
                                        <span *ngIf="e == 'Emp type'">{{item.emp_type}}</span>
                                        <span *ngIf="e == 'Device Number'">{{item.device_no}}</span>
                                        <span *ngIf="e == 'Status'">{{item.status}}</span>
                                        <span *ngIf="e == 'Login Status'">{{item.user_type}}</span>
                                        <span *ngIf="e == 'Last Login Time'">{{item.last_login_time |
                                            date:'MM/dd/yyyy'
                                            }}{{item.last_login_time |
                                            date:"HH:mm" }}</span>
                                        <span *ngIf="e == 'Last LogoutTime'">{{item.last_logout_time |
                                            date:"MM/dd/yyyy"
                                            }}{{item.last_logout_time |
                                            date:"HH:mm" }}</span>
                                        <span *ngIf="e == 'Action'"  class="pl-2"> <i style="color: #2196f3;"
                                            class="fas fa-edit"
                                            aria-hidden="true"
                                            pTooltip="Edit"
                                            (click)="Editcompanydetailsdata(item)"></i></span>
                                      
                                      <span *ngIf="e == 'Action'" class="pl-1">  <i *ngIf="item.emp_type ==
                                            'Engineer'" style="color:
                                            #4CAF50;" class="fa
                                            fa-info-circle"
                                            aria-hidden="true"
                                            pTooltip="Admin Dashboard"
                                            (click)="Viewdetails(item)"></i></span>
                                    </td>




                                </tr>
                            </ng-template>
                            </p-table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
